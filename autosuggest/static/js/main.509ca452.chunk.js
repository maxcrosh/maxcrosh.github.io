(this.webpackJsonpautosuggest=this.webpackJsonpautosuggest||[]).push([[0],{34:function(e,t,n){e.exports=n(83)},57:function(e,t,n){},82:function(e,t,n){},83:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),i=n(29),r=n.n(i),l=n(11),s=n(12),c=n(13),u=n(14),m=n(2),p=n.n(m),d=n(32),h=n(30),g=n(15),v=n(33),f=function(e){Object(u.a)(n,e);var t=Object(c.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this)).setAlignment(e.position),a.map=e.map,a.center=e.center,a.zoom=e.zoom,a}return Object(s.a)(n,[{key:"renderInternal",value:function(e,t){e.innerHTML='\n            <div id="ctrl-homeview">\n                <div class="H_btn H_el">\n                    <svg class="H_icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>LUI-icon-pd-building_home-solid-24</title><g id="Layer_2" data-name="Layer 2"><g id="LUI-icon-pd-building_home-solid-24"><g id="LUI-icon-pd-building_home-solid-24-2" data-name="LUI-icon-pd-building_home-solid-24"><rect width="24" height="24" fill="none"/><path d="M11.17,2.36a1.16,1.16,0,0,1,1.66,0L22,11V22H15V15H9v7H2V11Z"/></g></g></g></svg>\n                </div>\n            </div>\n        ',e.addEventListener("click",this.setHomeView.bind(this),!1),Object(v.a)(Object(g.a)(n.prototype),"renderInternal",this).call(this,e,t)}},{key:"setHomeView",value:function(){this.map.setCenter(this.center),this.map.setZoom(this.zoom)}}]),n}(window.H.ui.Control),w=function(e){Object(u.a)(n,e);var t=Object(c.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).mapRef=o.a.createRef(),a.state={M:null,H:null},a}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=Object(h.a)(p.a.mark((function e(){var t,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=window.H,(n={Platform:{},DefaultLayers:{},Map:{},TileService:{},TileLayer:{},Behavior:{},UI:{},Settings:{center:{lat:53.17592824927136,lng:53.78906249999999},zoom:4,pixelRatio:window.pixelRatio||1,engineType:t.map.render.p2d},HomeViewControl:{},InfoControl:{},ZoomControl:{},MapSettingsControl:{},DistanceMeasurement:{},ZoomRectangle:{},ScaleBar:{},ServicesLabelControl:{},Hospitals:null}).Platform=new t.service.Platform({apikey:this.props.apikey}),n.DefaultLayers=n.Platform.createDefaultLayers(),n.TileService=n.Platform.getMapTileService({type:"base"}),n.TileLayer=n.TileService.createTileLayer("maptile","normal.day",256,"png8",{lg:"rus"}),n.Map=new t.Map(this.mapRef.current,n.TileLayer,n.Settings),n.Behavior=new t.mapevents.Behavior(new t.mapevents.MapEvents(n.Map)),n.Behavior.disable(t.mapevents.Behavior.Feature.FRACTIONAL_ZOOM),n.UI=new t.ui.UI(n.Map),n.ZoomControl=new t.ui.ZoomControl({fractionalZoom:!1,alignment:"right-middle"}),n.UI.addControl("zoom",n.ZoomControl),n.HomeViewControl=new f({map:n.Map,position:"right-middle",center:{lat:59.17592824927136,lng:53.78906249999999},zoom:4}),n.UI.addControl("home-control",n.HomeViewControl),n.ZoomRectangle=new t.ui.ZoomRectangle({alignment:"right-middle"}),n.UI.addControl("zoomrectange",n.ZoomRectangle),window.addEventListener("resize",(function(){n.Map.getViewPort().resize()})),window.map=n.Map,this.setState(Object(d.a)({},n,{H:t}));case 19:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.state.map.dispose()}},{key:"render",value:function(){var e=this.state.Map;return null!=e&&e.removeObjects(e.getObjects()),o.a.createElement("div",{className:"map",ref:this.mapRef})}}]),n}(a.Component),y=n(31),b=n.n(y),C="UjNuFEnljA0mA3LsZxwXIBf_MR0Dr9o2cUc-F1-8wHs",O=(n(57),function(e){Object(u.a)(n,e);var t=Object(c.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).state={suggestions:[],searchText:""},a}return Object(s.a)(n,[{key:"zoomTo",value:function(e){var t=e.position.lat,n=e.position.lng;window.map.setCenter({lat:t,lng:n}),window.map.setZoom(18),this.setState({searchText:"",geocoderResults:[],suggestions:[]})}},{key:"onChangeSearch",value:function(e){var t=this;this.setState({searchText:e});var n=window.map.getCenter(),a={apiKey:C,q:e,at:"".concat(n.lat,",").concat(n.lng),lang:"ru",politicalView:"RUS",in:"countryCode:RUS"};""!==e&&b.a.get("https://autosuggest.search.hereapi.com/v1/autosuggest",{params:a}).then((function(e){t.setState({suggestions:e.data.items})}))}},{key:"render",value:function(){var e=this,t=this.state,n=t.searchText,a=t.suggestions;return o.a.createElement("div",{className:"search-container"},o.a.createElement("lui-default-theme",null,o.a.createElement("div",{style:{background:"#fff"}},o.a.createElement("lui-search",{placeholder:"Search"},o.a.createElement("input",{onChange:function(t){return e.onChangeSearch(t.currentTarget.value)},type:"text",value:n}))),o.a.createElement("div",{className:"suggestions-list"},o.a.createElement("lui-menu",{style:{display:void 0!==a&&0!==a.length?"block":"none",height:"auto",width:"400px",maxWidth:"400px"}},void 0!==a?a.map((function(t,n){return o.a.createElement("lui-menuitem",{key:n,onClick:function(){return e.zoomTo(t)}},t.title)})):o.a.createElement("div",null)))))}}]),n}(a.Component)),j=function(e){Object(u.a)(n,e);var t=Object(c.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).state={apikey:C},a}return Object(s.a)(n,[{key:"render",value:function(){var e=this.state.apikey;return o.a.createElement("lui-default-theme",null,o.a.createElement(w,{apikey:e}),o.a.createElement(O,null))}}]),n}(a.Component);n(58),n(59),n(64),n(70),n(71),n(72),n(73),n(74),n(75),n(76),n(77),n(78),n(79),n(80),n(81),n(82);r.a.render(o.a.createElement(j,null),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.509ca452.chunk.js.map